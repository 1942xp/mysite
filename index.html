<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Birlikte Ä°zleme</title>

<style>
body {
  background:#111;
  color:white;
  text-align:center;
  font-family:Arial;
}
video {
  width:90%;
  max-width:800px;
  margin-top:20px;
}
</style>
</head>

<body>

<h2>ðŸ’™ Birlikte Ä°zleme ðŸ’™</h2>
<p>AynÄ± linki aÃ§an herkes senkron izler</p>

<video id="video" controls>
  <source src="video.mp4" type="video/mp4">
</video>

<script>
const video = document.getElementById("video");
const KEY = "watch_sync";

// Play
video.addEventListener("play", () => {
  localStorage.setItem(KEY, JSON.stringify({
    time: video.currentTime,
    playing: true
  }));
});

// Pause
video.addEventListener("pause", () => {
  localStorage.setItem(KEY, JSON.stringify({
    time: video.currentTime,
    playing: false
  }));
});

// Senkron kontrol
setInterval(() => {
  const data = localStorage.getItem(KEY);
  if (!data) return;

  const sync = JSON.parse(data);

  if (Math.abs(video.currentTime - sync.time) > 1) {
    video.currentTime = sync.time;
  }

  if (sync.playing && video.paused) video.play();
  if (!sync.playing && !video.paused) video.pause();

}, 1000);
</script>

</body>
</html>
